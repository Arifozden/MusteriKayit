<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Musteri Kayit Sayfasi</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</head>
<body>
<h1>Musteri</h1>
Adinizi yaziniz : <label for="isim"></label><input type="text" id="isim"><br>
Adresinizi yaziniz : <label for="adres"></label><input type="text" id="adres"><br>
<button onclick="musteriKayit()">Kayit et</button>
<br>
Tum musteriler:
<div id="musteriler"></div>

<script type="application/javascript">
  function musteriKayit(){
    const musteri = {
      isim : $("#isim").val(),
      adres : $("#adres").val()
    };
    $.post("/kayit",musteri,function (){
      hepsiniGetir();
    });
    $("#isim").val("");
    $("#adres").val("");
  }

  function hepsiniGetir(){
    $.get("/hepsiniGetir", function (data){
      bilgiDuzen(data);
    });
  }

  function bilgiDuzen(musteriler){
      let yaz="<table class='table table-striped table-dark'><tr><th scope='col'>Isim</th><th scope='col'>Adres</th></tr>";
      for(const musteri of musteriler){
          yaz+="<tr><td>"+musteri.isim+"</td><td>"+musteri.adres+"</td></tr>"
      }
      yaz+="</table>";
      $("#musteriler").html(yaz)

  }
</script>
</body>
</html>